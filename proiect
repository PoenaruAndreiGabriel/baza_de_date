
4. 
-- Crearea tabelului "JUCATORI"
CREATE TABLE JUCATORI (
  id_jucator INT PRIMARY KEY,
  nume VARCHAR(50),
  tara_origine VARCHAR(50),
  rang VARCHAR(50)
);

-- Crearea tabelului "PARTIDE"
CREATE TABLE PARTIDE (
  id_partida INT PRIMARY KEY,
  id_turneu INT,
  id_jucator_1 INT,
  id_jucator_2 INT,
  rezultat_final VARCHAR(50),
  durata INT
);

-- Crearea tabelului "TURNEE"
CREATE TABLE TURNEE (
  id_turneu INT PRIMARY KEY,
  nume VARCHAR(50),
  data_inceput DATE,
  data_sfarsit DATE,
  locatie VARCHAR(50)
);

-- Crearea tabelului "CLASAMENTE"
CREATE TABLE CLASAMENTE (
  id_clasament INT PRIMARY KEY,
  id_turneu INT,
  id_jucator INT,
  punctaj INT,
  pozitie INT
);

-- Crearea tabelului "PREMII"
CREATE TABLE PREMII (
  id_premiu INT PRIMARY KEY,
  valoare INT,
  descriere_premiu VARCHAR(50)
);

-- Crearea tabelului "INSCRIERI"
CREATE TABLE INSCRIERI (
  id_inscriere INT PRIMARY KEY,
  id_turneu INT,
  id_jucator INT,
  stare VARCHAR(50),
  data_inscriere DATE
);

-- Crearea tabelului "ECHIPE"
CREATE TABLE ECHIPE (
  id_echipa INT PRIMARY KEY,
  nume VARCHAR(50),
  id_jucator1 INT,
  id_jucator2 INT
);

-- Crearea tabelului "JUCATORI_TURNEE"
CREATE TABLE JUCATORI_TURNEE (
  id_jucator INT,
  id_turneu INT,
  scor INT,
  PRIMARY KEY (id_jucator, id_turneu)
);

-- Crearea tabelului "JUCATORI_PREMII"
CREATE TABLE JUCATORI_PREMII (
  id_jucator INT,
  id_premiu INT,
  PRIMARY KEY (id_jucator, id_premiu)
);

CREATE TABLE TURNEE_ECHIPE (
  id_turneu_echipa NUMBER,
  id_turneu NUMBER,
  id_echipa NUMBER,
  CONSTRAINT pk_turnee_echipe PRIMARY KEY (id_turneu_echipa),
  CONSTRAINT fk_turnee_echipe_turnee FOREIGN KEY (id_turneu) REFERENCES TURNEE (id_turneu),
  CONSTRAINT fk_turnee_echipe_echipe FOREIGN KEY (id_echipa) REFERENCES ECHIPE (id_echipa)
);

5. 

-- Inserarea de date în tabelul "JUCATORI"
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang)
VALUES (1, 'John Doe', 'USA', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang)
VALUES (2, 'Jane Smith', 'UK', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang)
 VALUES (3, 'Alexandre Leblanc', 'France', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang)
VALUES (4, 'Maria Rodriguez', 'Spain', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) VALUES (5, 'Hans Müller', 'Germany', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (6, 'Satoshi Yamamoto', 'Japan', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (7, 'Luca Rossi', 'Italy', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (8, 'Ana Popescu', 'Romania', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (9, 'Andrei Petrov', 'Russia', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (10, 'Elena Gomez', 'Spain', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (11, 'David Johnson', 'USA', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (12, 'Sophie Martin', 'France', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (13, 'Fabio Rossi', 'Italy', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (14, 'Emilia Hernandez', 'Spain', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (15, 'Mikhail Ivanov', 'Russia', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (16, 'Lena Schneider', 'Germany', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (17, 'Giovanni Bianchi', 'Italy', 'Maestru');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (18, 'Simona Popa', 'Romania', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (19, 'Ivan Petrov', 'Russia', 'Expert');
INSERT INTO JUCATORI (id_jucator, nume, tara_origine, rang) 
VALUES (20, 'Carmen Fernandez', 'Spain', 'Maestru');


 
-- Inserarea de date în tabelul "PARTIDE"
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (1, 1, 1, 2, 'Victorie', 60);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (2, 1, 3, 4, 'Remiza', 45);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (3, 2, 5, 6, 'Înfrângere', 30);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (4, 2, 7, 8, 'Victorie', 75);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (5, 3, 9, 10, 'Remiza', 60);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (6, 3, 1, 3, 'Victorie', 90);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (7, 4, 2, 4, 'Înfrângere', 45);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (8, 4, 5, 7, 'Remiza', 60);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (9, 5, 8, 10, 'Victorie', 30);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (10, 5, 9, 6, 'Remiza', 45);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (11, 1, 11, 12, 'Victorie', 60);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (12, 1, 13, 14, 'Remiza', 45);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (13, 2, 15, 16, 'Înfrângere', 30);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (14, 2, 17, 18, 'Victorie', 75);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (15, 3, 19, 20, 'Remiza', 60);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (16, 3, 11, 13, 'Victorie', 90);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (17, 4, 12, 14, 'Înfrângere', 45);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (18, 4, 15, 17, 'Remiza', 60);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (19, 5, 18, 20, 'Victorie', 30);
INSERT INTO PARTIDE (id_partida, id_turneu, id_jucator_1, id_jucator_2, rezultat_final, durata) 
VALUES (20, 5, 19, 16, 'Remiza', 45);


-- Inserarea de date în tabelul "TURNEE"
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (1, 'Turneu de Iarna', DATE '2023-12-01', DATE '2023-12-15', 'Londra');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (2, 'Turneu de Primavara', DATE '2024-03-15', DATE '2024-03-30', 'Paris');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (3, 'Turneu de Vara', DATE '2024-06-01', DATE '2024-06-10', 'Berlin');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (4, 'Turneu de Toamna', DATE '2024-09-01', DATE '2024-09-15', 'Moscova');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (5, 'Turneu Final', DATE '2024-12-01', DATE '2024-12-15', 'New York');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (6, 'Turneu 1', DATE '2025-02-01', DATE '2025-02-15', 'Bucuresti');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (7, 'Turneu 2', DATE '2025-04-15', DATE '2025-04-30', 'Madrid');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (8, 'Turneu 3', DATE '2025-07-01', DATE '2025-07-10', 'Viena');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (9, 'Turneu 4', DATE '2025-10-01', DATE '2025-10-15', 'Budapesta');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (10, 'Turneu 5', DATE '2025-12-01', DATE '2025-12-15', 'Roma');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (11, 'Turneu 6', DATE '2026-02-01', DATE '2026-02-15', 'Varsovia');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (12, 'Turneu 7', DATE '2026-04-15', DATE '2026-04-30', 'Atena');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (13, 'Turneu 8', DATE '2026-07-01', DATE '2026-07-10', 'Praga');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (14, 'Turneu 9', DATE '2026-10-01', DATE '2026-10-15', 'Amsterdam');
INSERT INTO TURNEE (id_turneu, nume, data_inceput, data_sfarsit, locatie) 
VALUES (15, 'Turneu 10', DATE '2026-12-01', DATE '2026-12-15', 'Stockholm');


-- Inserarea de date în tabelul "CLASAMENTE"
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (1, 1, 1, 8, 1);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (2, 1, 2, 7, 2);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (3, 1, 3, 6, 3);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (4, 2, 4, 10, 1);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (5, 2, 5, 8, 2);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (6, 2, 6, 6, 3);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (7, 3, 7, 9, 1);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (8, 3, 8, 8, 2);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (9, 3, 9, 7, 3);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (10, 4, 10, 10, 1);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (11, 4, 11, 7, 2);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (12, 4, 12, 6, 3);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (13, 5, 13, 9, 1);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (14, 5, 14, 8, 2);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (15, 5, 15, 7, 3);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (16, 1, 16, 10, 1);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (17, 1, 17, 8, 2);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (18, 1, 18, 7, 3);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (19, 2, 19, 9, 1);
INSERT INTO CLASAMENTE (id_clasament, id_turneu, id_jucator, punctaj, pozitie) 
VALUES (20, 2, 20, 8, 2);


-- Inserarea de date în tabelul "PREMII"
INSERT INTO PREMII (id_premiu, valoare, descriere_premiu) 
VALUES (1, 1000, 'Locul 1');
INSERT INTO PREMII (id_premiu, valoare, descriere_premiu) 
VALUES (2, 750, 'Locul 2');
INSERT INTO PREMII (id_premiu, valoare, descriere_premiu) 
VALUES (3, 500, 'Locul 3');
INSERT INTO PREMII (id_premiu, valoare, descriere_premiu) 
VALUES (4, 300, 'Locul 4');
INSERT INTO PREMII (id_premiu, valoare, descriere_premiu) 
VALUES (5, 200, 'Locul 5');




-- Inserarea de date în tabelul "INSCRIERI"

INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (1, 1, 1, 'Acceptat', TO_DATE('2023-11-20', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (2, 1, 2, 'Acceptat', TO_DATE('2023-11-25', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (3, 2, 3, 'Acceptat', TO_DATE('2024-02-15', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (4, 2, 4, 'Acceptat', TO_DATE('2024-02-20', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (5, 3, 5, 'Acceptat', TO_DATE('2024-05-01', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (6, 3, 6, 'Acceptat', TO_DATE('2024-05-05', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (7, 4, 7, 'Acceptat', TO_DATE('2024-08-10', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (8, 4, 8, 'Acceptat', TO_DATE('2024-08-15', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (9, 5, 9, 'Acceptat', TO_DATE('2024-11-01', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (10, 5, 10, 'Acceptat', TO_DATE('2024-11-05', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (11, 1, 11, 'Acceptat', TO_DATE('2023-11-18', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (12, 1, 12, 'Acceptat', TO_DATE('2023-11-22', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (13, 2, 13, 'Acceptat', TO_DATE('2024-02-10', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (14, 2, 14, 'Acceptat', TO_DATE('2024-02-15', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (15, 3, 15, 'Acceptat', TO_DATE('2024-05-01', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (16, 3, 16, 'Acceptat', TO_DATE('2024-05-05', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (17, 4, 17, 'Acceptat', TO_DATE('2024-08-10', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (18, 4, 18, 'Acceptat', TO_DATE('2024-08-15', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (19, 5, 19, 'Acceptat', TO_DATE('2024-11-01', 'YYYY-MM-DD'));
INSERT INTO INSCRIERI (id_inscriere, id_turneu, id_jucator, stare, data_inscriere) 
VALUES (20, 5, 20, 'Acceptat', TO_DATE('2024-11-05', 'YYYY-MM-DD'));




-- Inserarea de date în tabelul "ECHIPE"
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (1, 'Echipa 1', 1, 2);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (2, 'Echipa 2', 3, 4);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2)
VALUES (3, 'Echipa 3', 5, 6);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (4, 'Echipa 4', 7, 8);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (5, 'Echipa 5', 9, 10);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (6, 'Echipa 6', 11, 12);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (7, 'Echipa 7', 13, 14);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (8, 'Echipa 8', 15, 16);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (9, 'Echipa 9', 17, 18);
INSERT INTO ECHIPE (id_echipa, nume, id_jucator1, id_jucator2) 
VALUES (10, 'Echipa 10', 19, 20);



 
-- Inserarea de date în tabelul "JUCATORI_TURNEE"

INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (1, 1, 8);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (2, 1, 7);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (3, 2, 6);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (4, 2, 10);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (5, 3, 8);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (6, 3, 6);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (7, 4, 9);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (8, 4, 8);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (9, 5, 7);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (10, 5, 10);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (11, 1, 7);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (12, 1, 6);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (13, 2, 9);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (14, 2, 8);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (15, 3, 7);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (16, 3, 10);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (17, 4, 8);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (18, 4, 7);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (19, 5, 10);
INSERT INTO JUCATORI_TURNEE (id_jucator, id_turneu, scor) 
VALUES (20, 5, 9);




-- Inserarea de date în tabelul "JUCATORI_PREMII"
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (1, 1);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (2, 2);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (3, 3);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (4, 4);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (5, 5);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (6, 1);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (7, 2);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (8, 3);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (9, 4);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (10, 5);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (11, 1);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (12, 2);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (13, 3);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (14, 4);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (15, 5);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (16, 1);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (17, 2);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (18, 3);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (19, 4);
INSERT INTO JUCATORI_PREMII (id_jucator, id_premiu) 
VALUES (20, 5);



-- Inserarea de date în tabelul "TURNEE_ECHIPE"
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (1, 1, 1);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (2, 1, 2);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (3, 2, 3);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (4, 2, 4);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (5, 3, 5);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (6, 3, 6);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (7, 4, 7);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (8, 4, 8);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (9, 5, 9);
INSERT INTO TURNEE_ECHIPE (id_turneu_echipa, id_turneu, id_echipa) 
VALUES (10, 5, 10);


6. 
CREATE OR REPLACE PROCEDURE RaportConcursSah
IS
    TYPE t_jucator_rec IS RECORD (
        NumeJucator JUCATORI.nume%TYPE,
        TaraOrigine JUCATORI.tara_origine%TYPE,
        Scor JUCATORI_TURNEE.scor%TYPE
    );
    TYPE t_tablou_indexat IS TABLE OF t_jucator_rec INDEX BY PLS_INTEGER;
    t_indexat t_tablou_indexat;
    TYPE t_tablou_imbricat IS TABLE OF TURNEE%ROWTYPE;
    t_imbricat t_tablou_imbricat := t_tablou_imbricat();
    TYPE t_vector_tari_type IS VARRAY(100) OF JUCATORI.tara_origine%TYPE;
    t_vector_tari t_vector_tari_type := t_vector_tari_type();


BEGIN
    FOR rec IN (SELECT j.nume, j.tara_origine, jt.scor FROM JUCATORI j JOIN JUCATORI_TURNEE jt ON j.id_jucator = jt.id_jucator) LOOP
        t_indexat(t_indexat.COUNT + 1).NumeJucator := rec.nume;
        t_indexat(t_indexat.COUNT).TaraOrigine := rec.tara_origine;
        t_indexat(t_indexat.COUNT).Scor := rec.scor;
    END LOOP;
    FOR i IN t_indexat.FIRST..t_indexat.LAST LOOP
        DBMS_OUTPUT.PUT_LINE(t_indexat(i).NumeJucator || ' din ' || t_indexat(i).TaraOrigine || ' - Scor: ' || t_indexat(i).Scor);
    END LOOP;
    DBMS_OUTPUT.NEW_LINE;
    FOR rec IN (SELECT * FROM TURNEE ORDER BY data_inceput DESC) LOOP
        t_imbricat.EXTEND;
        t_imbricat(t_imbricat.COUNT) := rec;
        EXIT WHEN t_imbricat.COUNT = 10;
    END LOOP;
    FOR i IN t_imbricat.FIRST..t_imbricat.LAST LOOP
        DBMS_OUTPUT.PUT_LINE(t_imbricat(i).nume || ' - Locatie: ' || t_imbricat(i).locatie);
    END LOOP;
    DBMS_OUTPUT.NEW_LINE;
    FOR rec IN (SELECT DISTINCT tara_origine FROM JUCATORI ORDER BY tara_origine) LOOP
        IF t_vector_tari.COUNT < t_vector_tari.LIMIT THEN
            t_vector_tari.EXTEND;
            t_vector_tari(t_vector_tari.COUNT) := rec.tara_origine;
        END IF;
    END LOOP;
    FOR i IN 1..t_vector_tari.COUNT LOOP
        DBMS_OUTPUT.PUT_LINE('Tara: ' || t_vector_tari(i));
    END LOOP;

EXCEPTION
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR(-2000,'A aparut o  eroare!');
END RaportConcursSah;
/

BEGIN
    RaportConcursSah;
END;
/


7.
CREATE OR REPLACE PROCEDURE subprogram_stocat_independent IS
    CURSOR cursor_1 IS SELECT id_turneu, nume
                FROM turnee;
    CURSOR cursor_2 (PARAM turnee.id_turneu%TYPE) IS
            SELECT j.nume, j.tara_origine
            FROM jucatori j,jucatori_turnee jt
            WHERE jt.id_turneu = PARAM
            AND jt.id_jucator=j.id_jucator;

    v_id_turneu turnee.id_turneu%TYPE;
    v_nume_turneu turnee.nume%TYPE;

BEGIN
    OPEN cursor_1;
    LOOP
        FETCH cursor_1 INTO v_id_turneu, v_nume_turneu;
        EXIT WHEN cursor_1%notfound;

        dbms_output.put_line('-----------------------------------------------');
        dbms_output.put_line('Turneul '||  '   '|| v_nume_turneu);
        dbms_output.put_line('-----------------------------------------------');

        FOR i IN cursor_2(v_id_turneu) LOOP
            dbms_output.put_line(i.nume   ||'       ' || i.tara_origine);
        END LOOP;
    END LOOP;
END subprogram_stocat_independent;
/

BEGIN
    subprogram_stocat_independent;
END;
/


8.
CREATE OR REPLACE FUNCTION rezultat_partida_in_turneu
    (v_jucator_id jucatori.id_jucator%TYPE, v_turneu_id turnee.id_turneu%TYPE)
RETURN VARCHAR IS
    rezultat partide.rezultat_final%TYPE;
    v_jucator_exist INT;
    v_turneu_exist INT;
    e_jucator_negasit EXCEPTION;
    e_turneu_negasit EXCEPTION;
    
BEGIN 
    SELECT COUNT(*) INTO v_jucator_exist FROM jucatori WHERE id_jucator = v_jucator_id;
    IF v_jucator_exist = 0 THEN
        RAISE e_jucator_negasit;
    END IF;
    SELECT COUNT(*) INTO v_turneu_exist FROM turnee WHERE id_turneu = v_turneu_id;
    IF v_turneu_exist = 0 THEN
        RAISE e_turneu_negasit;
    END IF;
    SELECT p.rezultat_final INTO rezultat 
    FROM partide p
    WHERE p.id_jucator_1 = v_jucator_id
    AND p.id_turneu = v_turneu_id;
    
    RETURN rezultat;
    
    
EXCEPTION
    WHEN e_jucator_negasit THEN
        RAISE_APPLICATION_ERROR(-20002, 'Jucatorul specificat nu exista in baza de date!');
    WHEN e_turneu_negasit THEN
        RAISE_APPLICATION_ERROR(-20003, 'Turneul specificat nu exista in baza de date!');
    WHEN NO_DATA_FOUND THEN
        RAISE_APPLICATION_ERROR(-20000, 'Jucatorul nu a participat la acest turneu!');
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR(-20001,'Alta eroare!');
END rezultat_partida_in_turneu;
/

BEGIN
    DBMS_OUTPUT.PUT_LINE('Jucatorul a obtinut ' || rezultat_partida_in_turneu('1', '5'));
END;
/



9.
CREATE OR REPLACE PROCEDURE obtine_premiul_jucator (
    v_nume_jucator IN jucatori.nume%TYPE,
    v_nume_turneu IN turnee.nume%TYPE,
    v_premiu OUT premii.descriere_premiu%TYPE
) IS
BEGIN
SELECT p.descriere_premiu INTO v_premiu
    FROM jucatori j
    JOIN jucatori_turnee jt ON j.id_jucator = jt.id_jucator
    JOIN turnee t ON jt.id_turneu = t.id_turneu
    JOIN jucatori_premii jp ON j.id_jucator = jp.id_jucator
    JOIN premii p ON jp.id_premiu = p.id_premiu
    WHERE j.nume = v_nume_jucator AND t.nume = v_nume_turneu;    
EXCEPTION
    WHEN TOO_MANY_ROWS THEN
        RAISE_APPLICATION_ERROR(-20001,'Exista mai multi jucatori cu numele dat');
    WHEN NO_DATA_FOUND THEN
        v_premiu := NULL;
        RAISE_APPLICATION_ERROR(-20000,'Nu exista date pentru jucatorul sau turneul specificat.');
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR(-20002,'Alta eroare!');
END obtine_premiul_jucator;
/

DECLARE
    v_premiu_obtinut premii.descriere_premiu%TYPE;
BEGIN
    obtine_premiul_jucator('John Doe','Turneu de Iarna',v_premiu_obtinut); 
    DBMS_OUTPUT.PUT_LINE('Premiul este: ' || v_premiu_obtinut);
END;
/


10.
CREATE OR REPLACE TRIGGER trigger1
    BEFORE INSERT OR UPDATE OR DELETE ON turnee
BEGIN
    IF (TO_CHAR(SYSDATE,'D') = 1)
    OR (TO_CHAR(SYSDATE,'HH24') NOT BETWEEN 8 AND 10)
    THEN
        RAISE_APPLICATION_ERROR(-20001,'tabelul nu poate fi actualizat');
    END IF;
END;
/

INSERT INTO turnee(id_turneu,nume,data_inceput,data_sfarsit,locatie)
VALUES (16, 'Turneu 10', DATE '2026-12-01', DATE '2026-12-15', 'Stockholm');

SELECT Distinct TO_CHAR(SYSDATE,'HH24:MM:SS') as sysdat
FROM turnee;

DROP TRIGGER trigger1;


11.
CREATE OR REPLACE TRIGGER trig2
 BEFORE UPDATE OF durata ON partide
 FOR EACH ROW
BEGIN
  IF (:NEW.durata < :OLD.durata) THEN
    RAISE_APPLICATION_ERROR(-20002,'durata partidei nu poate fi micsorata');
  END IF;
END;
/

UPDATE partide
SET durata = durata-5;
DROP TRIGGER trig2;


12.
CREATE OR REPLACE TRIGGER trig3
AFTER ALTER ON SCHEMA
BEGIN
    dbms_output.put_line('Un tabel a fost modificat: ' || SYS.DICTIONARY_OBJ_NAME);
END;
/

ALTER TABLE partide 
RENAME COLUMN rezultat_final TO rezultat;

DROP TRIGGER trig3;









